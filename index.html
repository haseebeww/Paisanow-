<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PaisaNow - Earn Money</title>
    <style>
        :root {
            --primary: #6C63FF;
            --secondary: #FF6584;
            --accent: #42C6FF;
            --light: #F8F9FA;
            --dark: #343A40;
            --success: #28A745;
            --warning: #FFC107;
            --danger: #DC3545;
            --info: #17A2B8;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: var(--dark);
        }
        
        .container {
            max-width: 500px;
            margin: 0 auto;
            background-color: white;
            min-height: 100vh;
            position: relative;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        
        /* Header Styles */
        .header {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
        }
        
        .header h1 {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .header p {
            font-size: 14px;
            opacity: 0.9;
        }
        
        .user-balance {
            background-color: white;
            color: var(--primary);
            padding: 10px 15px;
            border-radius: 50px;
            display: inline-block;
            margin-top: 15px;
            font-weight: bold;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        
        /* Navigation */
        .nav-tabs {
            display: flex;
            background-color: white;
            border-bottom: 1px solid #eee;
        }
        
        .nav-tab {
            flex: 1;
            text-align: center;
            padding: 15px 0;
            color: var(--dark);
            text-decoration: none;
            font-weight: 500;
            position: relative;
        }
        
        .nav-tab.active {
            color: var(--primary);
        }
        
        .nav-tab.active:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 25%;
            width: 50%;
            height: 3px;
            background-color: var(--primary);
            border-radius: 3px 3px 0 0;
        }
        
        /* Main Content */
        .content {
            padding: 20px;
        }
        
        .section-title {
            font-size: 18px;
            margin-bottom: 15px;
            color: var(--primary);
            display: flex;
            align-items: center;
        }
        
        .section-title i {
            margin-right: 10px;
        }
        
        /* Earning Cards */
        .earning-cards {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .earning-card {
            background-color: white;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            transition: transform 0.3s;
            border: 1px solid #eee;
        }
        
        .earning-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.1);
        }
        
        .earning-card i {
            font-size: 30px;
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .earning-card h3 {
            font-size: 16px;
            margin-bottom: 5px;
        }
        
        .earning-card p {
            font-size: 12px;
            color: #666;
            margin-bottom: 10px;
        }
        
        .btn {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 14px;
            display: inline-block;
            text-decoration: none;
        }
        
        .btn:hover {
            background-color: #5a52e0;
        }
        
        .btn-sm {
            padding: 5px 10px;
            font-size: 12px;
        }
        
        .btn-success {
            background-color: var(--success);
        }
        
        .btn-success:hover {
            background-color: #218838;
        }
        
        /* Withdrawal Section */
        .withdrawal-form {
            background-color: white;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            margin-bottom: 20px;
            border: 1px solid #eee;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-size: 14px;
            color: #555;
        }
        
        .form-control {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        /* Recent Activity */
        .activity-list {
            list-style: none;
        }
        
        .activity-item {
            display: flex;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }
        
        .activity-item:last-child {
            border-bottom: none;
        }
        
        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: rgba(108, 99, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            color: var(--primary);
        }
        
        .activity-details {
            flex: 1;
        }
        
        .activity-title {
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 3px;
        }
        
        .activity-meta {
            font-size: 12px;
            color: #888;
        }
        
        .activity-amount {
            font-weight: bold;
            color: var(--success);
        }
        
        /* Login Screen */
        .login-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            padding: 20px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
        }
        
        .login-box {
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            width: 100%;
            max-width: 400px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .login-logo {
            text-align: center;
            margin-bottom: 25px;
        }
        
        .login-logo h1 {
            color: var(--primary);
            font-size: 28px;
            font-weight: 700;
        }
        
        .login-logo p {
            color: #666;
            font-size: 14px;
        }
        
        .login-tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
        
        .login-tab {
            flex: 1;
            text-align: center;
            padding: 10px 0;
            cursor: pointer;
            color: #666;
            font-weight: 500;
        }
        
        .login-tab.active {
            color: var(--primary);
            border-bottom: 2px solid var(--primary);
        }
        
        .login-form {
            display: none;
        }
        
        .login-form.active {
            display: block;
        }
        
        .forgot-password {
            text-align: right;
            margin-top: -10px;
            margin-bottom: 15px;
        }
        
        .forgot-password a {
            color: #666;
            font-size: 12px;
            text-decoration: none;
        }
        
        .btn-block {
            display: block;
            width: 100%;
            padding: 12px;
        }
        
        .signup-link {
            text-align: center;
            margin-top: 20px;
            font-size: 14px;
        }
        
        .signup-link a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
        }
        
        /* Footer */
        .footer {
            background-color: var(--dark);
            color: white;
            padding: 15px;
            text-align: center;
            font-size: 12px;
        }
        
        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: white;
            display: flex;
            max-width: 500px;
            margin: 0 auto;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            z-index: 100;
        }
        
        .bottom-nav-item {
            flex: 1;
            text-align: center;
            padding: 12px 0;
            color: #666;
            text-decoration: none;
            font-size: 12px;
        }
        
        .bottom-nav-item.active {
            color: var(--primary);
        }
        
        .bottom-nav-item i {
            display: block;
            font-size: 20px;
            margin-bottom: 3px;
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background-color: white;
            border-radius: 10px;
            width: 90%;
            max-width: 400px;
            max-height: 90vh;
            overflow-y: auto;
            animation: modalFadeIn 0.3s;
        }
        
        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .modal-header {
            padding: 15px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-title {
            font-size: 18px;
            font-weight: 500;
            color: var(--primary);
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: #666;
        }
        
        .modal-body {
            padding: 15px;
        }
        
        /* Responsive */
        @media (max-width: 400px) {
            .earning-cards {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 20px;
            }
        }
        
        /* Icons (using Unicode as placeholder) */
        .icon {
            font-style: normal;
        }
    </style>
</head>
<body>
    <!-- Login Screen (Initial View) -->
    <div class="login-container" id="loginScreen">
        <div class="login-box">
            <div class="login-logo">
                <h1>PaisaNow</h1>
                <p>Earn money with simple tasks</p>
            </div>
            
            <div class="login-tabs">
                <div class="login-tab active" onclick="showLoginForm('email')">Email Login</div>
                <div class="login-tab" onclick="showLoginForm('password')">Password Login</div>
            </div>
            
            <div class="login-form active" id="emailLoginForm">
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" class="form-control" placeholder="Enter your email">
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" class="form-control" placeholder="Enter your password">
                </div>
                <div class="forgot-password">
                    <a href="#" onclick="showForgotPasswordModal()">Forgot password?</a>
                </div>
                <button class="btn btn-block" onclick="login()">Login</button>
                
                <div class="signup-link">
                    Don't have an account? <a href="#" onclick="showSignupModal()">Sign up</a>
                </div>
            </div>
            
            <div class="login-form" id="passwordLoginForm">
                <div class="form-group">
                    <label for="userid">User ID</label>
                    <input type="text" id="userid" class="form-control" placeholder="Enter your user ID">
                </div>
                <div class="form-group">
                    <label for="password2">Password</label>
                    <input type="password" id="password2" class="form-control" placeholder="Enter your password">
                </div>
                <button class="btn btn-block" onclick="loginWithPassword()">Login</button>
                
                <div class="signup-link">
                    Don't have an account? <a href="#" onclick="showSignupModal()">Sign up</a>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Main App (Hidden Initially) -->
    <div class="container" id="appContainer" style="display: none;">
        <!-- Header -->
        <div class="header">
            <h1>Welcome back, <span id="usernameDisplay">User</span>!</h1>
            <p>Complete tasks and earn money</p>
            <div class="user-balance">
                Balance: <span id="userBalance">Rs. 0</span>
            </div>
        </div>
        
        <!-- Navigation Tabs -->
        <div class="nav-tabs">
            <a href="#" class="nav-tab active" onclick="showTab('earn')">Earn</a>
            <a href="#" class="nav-tab" onclick="showTab('withdraw')">Withdraw</a>
            <a href="#" class="nav-tab" onclick="showTab('history')">History</a>
            <a href="#" class="nav-tab" onclick="showTab('refer')">Refer</a>
        </div>
        
        <!-- Main Content -->
        <div class="content">
            <!-- Earn Tab -->
            <div class="tab-content" id="earnTab">
                <h2 class="section-title">
                    <span class="icon">üí∞</span> Earn Money
                </h2>
                
                <div class="earning-cards">
                    <div class="earning-card">
                        <div class="icon">üì±</div>
                        <h3>Watch Ads</h3>
                        <p>Watch short ads and earn Rs. 10 per ad</p>
                        <button class="btn btn-sm" onclick="startTask('watch_ads')">Start Now</button>
                    </div>
                    
                    <div class="earning-card">
                        <div class="icon">üõí</div>
                        <h3>Offers</h3>
                        <p>Complete offers from partners</p>
                        <button class="btn btn-sm" onclick="startTask('offers')">View Offers</button>
                    </div>
                    
                    <div class="earning-card">
                        <div class="icon">üéÆ</div>
                        <h3>Play Games</h3>
                        <p>Play games and reach milestones</p>
                        <button class="btn btn-sm" onclick="startTask('games')">Play Now</button>
                    </div>
                    
                    <div class="earning-card">
                        <div class="icon">üìù</div>
                        <h3>Surveys</h3>
                        <p>Complete surveys and earn money</p>
                        <button class="btn btn-sm" onclick="startTask('surveys')">Start Survey</button>
                    </div>
                </div>
                
                <h2 class="section-title">
                    <span class="icon">üèÜ</span> Daily Bonus
                </h2>
                
                <div class="earning-card">
                    <div class="icon">üéÅ</div>
                    <h3>Daily Reward</h3>
                    <p>Claim your daily bonus reward</p>
                    <button class="btn btn-success" id="dailyBonusBtn" onclick="claimDailyBonus()">Claim Rs. 5</button>
                </div>
            </div>
            
            <!-- Withdraw Tab -->
            <div class="tab-content" id="withdrawTab" style="display: none;">
                <h2 class="section-title">
                    <span class="icon">üí∏</span> Withdraw Money
                </h2>
                
                <div class="withdrawal-form">
                    <div class="form-group">
                        <label for="withdrawAmount">Amount (Minimum Rs. 10)</label>
                        <input type="number" id="withdrawAmount" class="form-control" placeholder="Enter amount" min="10">
                    </div>
                    
                    <div class="form-group">
                        <label for="withdrawMethod">Payment Method</label>
                        <select id="withdrawMethod" class="form-control">
                            <option value="">Select method</option>
                            <option value="jazzcash">JazzCash</option>
                            <option value="easypaisa">EasyPaisa</option>
                            <option value="upaisa">UPaisa</option>
                        </select>
                    </div>
                    
                    <div class="form-group" id="accountNumberGroup" style="display: none;">
                        <label for="accountNumber">Account Number</label>
                        <input type="text" id="accountNumber" class="form-control" placeholder="Enter account number">
                    </div>
                    
                    <button class="btn btn-block" onclick="requestWithdrawal()">Request Withdrawal</button>
                </div>
                
                <h2 class="section-title">
                    <span class="icon">üìä</span> Withdrawal History
                </h2>
                
                <ul class="activity-list">
                    <li class="activity-item">
                        <div class="activity-icon">üí∏</div>
                        <div class="activity-details">
                            <div class="activity-title">Withdrawal Request</div>
                            <div class="activity-meta">JazzCash ‚Ä¢ Processing</div>
                        </div>
                        <div class="activity-amount">-Rs. 50</div>
                    </li>
                    <li class="activity-item">
                        <div class="activity-icon">üí∏</div>
                        <div class="activity-details">
                            <div class="activity-title">Withdrawal Completed</div>
                            <div class="activity-meta">EasyPaisa ‚Ä¢ 2 days ago</div>
                        </div>
                        <div class="activity-amount">-Rs. 100</div>
                    </li>
                </ul>
            </div>
            
            <!-- History Tab -->
            <div class="tab-content" id="historyTab" style="display: none;">
                <h2 class="section-title">
                    <span class="icon">üìú</span> Earning History
                </h2>
                
                <ul class="activity-list">
                    <li class="activity-item">
                        <div class="activity-icon">üì±</div>
                        <div class="activity-details">
                            <div class="activity-title">Watched Ad</div>
                            <div class="activity-meta">2 minutes ago</div>
                        </div>
                        <div class="activity-amount">+Rs. 10</div>
                    </li>
                    <li class="activity-item">
                        <div class="activity-icon">üéÅ</div>
                        <div class="activity-details">
                            <div class="activity-title">Daily Bonus</div>
                            <div class="activity-meta">Today</div>
                        </div>
                        <div class="activity-amount">+Rs. 5</div>
                    </li>
                    <li class="activity-item">
                        <div class="activity-icon">üõí</div>
                        <div class="activity-details">
                            <div class="activity-title">Completed Offer</div>
                            <div class="activity-meta">Yesterday</div>
                        </div>
                        <div class="activity-amount">+Rs. 10</div>
                    </li>
                    <li class="activity-item">
                        <div class="activity-icon">üë•</div>
                        <div class="activity-details">
                            <div class="activity-title">Referral Bonus</div>
                            <div class="activity-meta">3 days ago</div>
                        </div>
                        <div class="activity-amount">+Rs. 20</div>
                    </li>
                </ul>
            </div>
            
            <!-- Refer Tab -->
            <div class="tab-content" id="referTab" style="display: none;">
                <h2 class="section-title">
                    <span class="icon">üë•</span> Refer & Earn
                </h2>
                
                <div class="earning-card" style="text-align: center; margin-bottom: 20px;">
                    <div class="icon">üí∞</div>
                    <h3>Earn Rs. 20 per referral</h3>
                    <p>Get Rs. 20 when your friend signs up and completes their first task</p>
                </div>
                
                <div class="form-group">
                    <label>Your Referral Link</label>
                    <div style="display: flex;">
                        <input type="text" id="referralLink" class="form-control" value="https://paisanow.com/ref/user123" readonly>
                        <button class="btn" onclick="copyReferralLink()" style="margin-left: 5px;">Copy</button>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Your Referral Code</label>
                    <div style="display: flex;">
                        <input type="text" id="referralCode" class="form-control" value="USER123" readonly>
                        <button class="btn" onclick="copyReferralCode()" style="margin-left: 5px;">Copy</button>
                    </div>
                </div>
                
                <h2 class="section-title" style="margin-top: 25px;">
                    <span class="icon">üèÜ</span> Your Referrals
                </h2>
                
                <ul class="activity-list">
                    <li class="activity-item">
                        <div class="activity-icon">üë§</div>
                        <div class="activity-details">
                            <div class="activity-title">Ali Khan</div>
                            <div class="activity-meta">Joined 2 days ago</div>
                        </div>
                        <div class="activity-amount">+Rs. 20</div>
                    </li>
                    <li class="activity-item">
                        <div class="activity-icon">üë§</div>
                        <div class="activity-details">
                            <div class="activity-title">Sana Ahmed</div>
                            <div class="activity-meta">Joined 1 week ago</div>
                        </div>
                        <div class="activity-amount">+Rs. 20</div>
                    </li>
                </ul>
            </div>
        </div>
        
        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <a href="#" class="bottom-nav-item active" onclick="showTab('earn')">
                <span class="icon">üí∞</span>
                Earn
            </a>
            <a href="#" class="bottom-nav-item" onclick="showTab('withdraw')">
                <span class="icon">üí∏</span>
                Withdraw
            </a>
            <a href="#" class="bottom-nav-item" onclick="showTab('history')">
                <span class="icon">üìä</span>
                History
            </a>
            <a href="#" class="bottom-nav-item" onclick="showTab('account')">
                <span class="icon">üë§</span>
                Account
            </a>
        </div>
    </div>
    
    <!-- Modals -->
    <div class="modal" id="taskModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title" id="taskModalTitle">Task</div>
                <button class="modal-close" onclick="closeModal('taskModal')">&times;</button>
            </div>
            <div class="modal-body" id="taskModalContent">
                <p>Complete this task to earn Rs. 10</p>
                <div id="taskContent">
                    <!-- Task content will be loaded here -->
                </div>
                <button class="btn btn-block" id="completeTaskBtn" onclick="completeTask()">Complete Task</button>
            </div>
        </div>
    </div>
    
    <div class="modal" id="signupModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Create Account</div>
                <button class="modal-close" onclick="closeModal('signupModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="signupName">Full Name</label>
                    <input type="text" id="signupName" class="form-control" placeholder="Enter your name">
                </div>
                <div class="form-group">
                    <label for="signupEmail">Email</label>
                    <input type="email" id="signupEmail" class="form-control" placeholder="Enter your email">
                </div>
                <div class="form-group">
                    <label for="signupPassword">Password</label>
                    <input type="password" id="signupPassword" class="form-control" placeholder="Create a password">
                </div>
                <div class="form-group">
                    <label for="signupReferral">Referral Code (Optional)</label>
                    <input type="text" id="signupReferral" class="form-control" placeholder="Enter referral code if any">
                </div>
                <button class="btn btn-block" onclick="signup()">Create Account</button>
            </div>
        </div>
    </div>
    
    <div class="modal" id="forgotPasswordModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Reset Password</div>
                <button class="modal-close" onclick="closeModal('forgotPasswordModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="resetEmail">Email</label>
                    <input type="email" id="resetEmail" class="form-control" placeholder="Enter your email">
                </div>
                <button class="btn btn-block" onclick="resetPassword()">Send Reset Link</button>
            </div>
        </div>
    </div>
    
    <div class="modal" id="successModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title" id="successModalTitle">Success</div>
                <button class="modal-close" onclick="closeModal('successModal')">&times;</button>
            </div>
            <div class="modal-body" id="successModalContent">
                Operation completed successfully!
            </div>
        </div>
    </div>
    
    <div class="modal" id="accountModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">Account Settings</div>
                <button class="modal-close" onclick="closeModal('accountModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Name</label>
                    <input type="text" id="accountName" class="form-control" value="John Doe">
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="accountEmail" class="form-control" value="john@example.com" readonly>
                </div>
                <div class="form-group">
                    <label>User ID</label>
                    <input type="text" id="accountUserId" class="form-control" value="USER123" readonly>
                </div>
                
                <h2 class="section-title" style="margin-top: 20px;">
                    <span class="icon">üîí</span> Change Password
                </h2>
                
                <div class="form-group">
                    <label for="currentPassword">Current Password</label>
                    <input type="password" id="currentPassword" class="form-control" placeholder="Enter current password">
                </div>
                <div class="form-group">
                    <label for="newPassword">New Password</label>
                    <input type="password" id="newPassword" class="form-control" placeholder="Enter new password">
                </div>
                <div class="form-group">
                    <label for="confirmPassword">Confirm Password</label>
                    <input type="password" id="confirmPassword" class="form-control" placeholder="Confirm new password">
                </div>
                
                <button class="btn btn-block" onclick="updateAccount()">Save Changes</button>
                
                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn btn-sm" style="background-color: var(--danger);" onclick="logout()">Logout</button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Current user data
        let currentUser = null;
        let userBalance = 0;
        let tasks = {
            watch_ads: {
                title: "Watch Ad",
                content: "<p>Watch this 30-second ad video to earn Rs. 10</p><div style='background-color: #eee; height: 200px; display: flex; align-items: center; justify-content: center; margin: 15px 0;'>[Ad Video Player]</div>",
                earnings: 10
            },
            offers: {
                title: "Complete Offer",
                content: "<p>Install and open this app to earn Rs. 10</p><div style='background-color: #f5f5f5; padding: 15px; border-radius: 5px; margin: 15px 0;'><h3>App Name</h3><p>Install this app and run it for 1 minute</p><button class='btn btn-sm' style='margin-top: 10px;'>Install App</button></div><p>After installation, return here and click Complete Task</p>",
                earnings: 10
            },
            games: {
                title: "Play Game",
                content: "<p>Play this game to level 3 to earn Rs. 10</p><div style='background-color: #eee; height: 200px; display: flex; align-items: center; justify-content: center; margin: 15px 0;'>[Game Preview]</div><button class='btn btn-sm' style='margin-bottom: 10px;'>Play Game</button>",
                earnings: 10
            },
            surveys: {
                title: "Complete Survey",
                content: "<p>Answer these 5 questions to earn Rs. 10</p><div style='margin: 15px 0;'><div style='margin-bottom: 15px;'><p>1. What is your age group?</p><select class='form-control'><option>Under 18</option><option>18-25</option><option>26-35</option><option>36+</option></select></div><div style='margin-bottom: 15px;'><p>2. How often do you use earning apps?</p><select class='form-control'><option>Daily</option><option>Weekly</option><option>Monthly</option><option>Rarely</option></select></div></div>",
                earnings: 10
            }
        };
        
        // Show login form based on type
        function showLoginForm(type) {
            document.querySelectorAll('.login-tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.login-form').forEach(form => form.style.display = 'none');
            
            if (type === 'email') {
                document.querySelector('.login-tab:nth-child(1)').classList.add('active');
                document.getElementById('emailLoginForm').style.display = 'block';
            } else {
                document.querySelector('.login-tab:nth-child(2)').classList.add('active');
                document.getElementById('passwordLoginForm').style.display = 'block';
            }
        }
        
        // Login function
        function login() {
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            if (!email || !password) {
                showSuccessModal('Error', 'Please enter both email and password');
                return;
            }
            
            // Mock login (in a real app, this would connect to a backend)
            currentUser = {
                name: 'Test User',
                email: email,
                userId: 'USER' + Math.floor(1000 + Math.random() * 9000),
            };
            userBalance = 50;
            
            // Hide login screen and show app
            document.getElementById('loginScreen').style.display = 'none';
            document.getElementById('appContainer').style.display = 'block';
            
            // Update user info
            document.getElementById('usernameDisplay').textContent = currentUser.name;
            document.getElementById('userBalance').textContent = 'Rs. ' + userBalance;
        }
        
        // Password-only login
        function loginWithPassword() {
            const userId = document.getElementById('userid').value;
            const password = document.getElementById('password2').value;
            
            if (!userId || !password) {
                showSuccessModal('Error', 'Please enter both user ID and password');
                return;
            }
            
            // Mock login
            currentUser = {
                name: 'Test User',
                email: userId.toLowerCase() + '@paisanow.com',
                userId: userId,
            };
            userBalance = 30;
            
            // Hide login screen and show app
            document.getElementById('loginScreen').style.display = 'none';
            document.getElementById('appContainer').style.display = 'block';
            
            // Update user info
            document.getElementById('usernameDisplay').textContent = currentUser.name;
            document.getElementById('userBalance').textContent = 'Rs. ' + userBalance;
        }
        
        // Show signup modal
        function showSignupModal() {
            document.getElementById('signupModal').style.display = 'flex';
        }
        
        // Signup function
        function signup() {
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            const referral = document.getElementById('signupReferral').value;
            
            if (!name || !email || !password) {
                showSuccessModal('Error', 'Please fill all required fields');
                return;
            }
            
            // Mock signup
            currentUser = {
                name: name,
                email: email,
                userId: 'USER' + Math.floor(1000 + Math.random() * 9000),
            };
            userBalance = 0;
            
            // If referral code, add bonus
            if (referral) {
                userBalance += 20;
                showSuccessModal('Success', 'Account created! You received Rs. 20 referral bonus');
            } else {
                showSuccessModal('Success', 'Account created successfully!');
            }
            
            // Close modal
            closeModal('signupModal');
            
            // Hide login screen and show app
            document.getElementById('loginScreen').style.display = 'none';
            document.getElementById('appContainer').style.display = 'block';
            
            // Update user info
            document.getElementById('usernameDisplay').textContent = currentUser.name;
            document.getElementById('userBalance').textContent = 'Rs. ' + userBalance;
        }
        
        // Show forgot password modal
        function showForgotPasswordModal() {
            document.getElementById('forgotPasswordModal').style.display = 'flex';
        }
        
        // Reset password function
        function resetPassword() {
            const email = document.getElementById('resetEmail').value;
            
            if (!email) {
                showSuccessModal('Error', 'Please enter your email');
                return;
            }
            
            showSuccessModal('Success', 'Password reset link sent to your email');
            closeModal('forgotPasswordModal');
        }
        
        // Show different tabs
        function showTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(tab => tab.style.display = 'none');
            
            // Deactivate all nav tabs
            document.querySelectorAll('.nav-tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.bottom-nav-item').forEach(tab => tab.classList.remove('active'));
            
            // Show selected tab
            document.getElementById(tabName + 'Tab').style.display = 'block';
            
            // Activate corresponding nav tab
            if (tabName === 'account') {
                document.getElementById('accountModal').style.display = 'flex';
            } else {
                const navIndex = ['earn', 'withdraw', 'history', 'refer'].indexOf(tabName);
                if (navIndex >= 0) {
                    document.querySelectorAll('.nav-tab')[navIndex].classList.add('active');
                    document.querySelectorAll('.bottom-nav-item')[navIndex].classList.add('active');
                }
            }
        }
        
        // Start a task
        function startTask(taskId) {
            const task = tasks[taskId];
            if (!task) return;
            
            document.getElementById('taskModalTitle').textContent = task.title;
            document.getElementById('taskContent').innerHTML = task.content;
            document.getElementById('completeTaskBtn').setAttribute('data-task', taskId);
            
            document.getElementById('taskModal').style.display = 'flex';
        }
        
        // Complete a task
        function completeTask() {
            const taskId = document.getElementById('completeTaskBtn').getAttribute('data-task');
            const task = tasks[taskId];
            
            if (task) {
                userBalance += task.earnings;
                document.getElementById('userBalance').textContent = 'Rs. ' + userBalance;
                
                showSuccessModal('Success', `You earned Rs. ${task.earnings} for completing the task!`);
                closeModal('taskModal');
            }
        }
        
        // Claim daily bonus
        function claimDailyBonus() {
            userBalance += 5;
            document.getElementById('userBalance').textContent = 'Rs. ' + userBalance;
            document.getElementById('dailyBonusBtn').textContent = 'Claimed Today';
            document.getElementById('dailyBonusBtn').style.backgroundColor = '#6c757d';
            document.getElementById('dailyBonusBtn').onclick = null;
            
            showSuccessModal('Success', 'You claimed your daily Rs. 5 bonus!');
        }
        
        // Show withdrawal account number field based on method
        document.getElementById('withdrawMethod').addEventListener('change', function() {
            const method = this.value;
            document.getElementById('accountNumberGroup').style.display = method ? 'block' : 'none';
        });
        
        // Request withdrawal
        function requestWithdrawal() {
            const amount = parseInt(document.getElementById('withdrawAmount').value);
            const method = document.getElementById('withdrawMethod').value;
            const account = document.getElementById('accountNumber').value;
            
            if (!amount || amount < 10) {
                showSuccessModal('Error', 'Minimum withdrawal amount is Rs. 10');
                return;
            }
            
            if (!method) {
                showSuccessModal('Error', 'Please select a withdrawal method');
                return;
            }
            
            if (method && !account) {
                showSuccessModal('Error', 'Please enter your account number');
                return;
            }
            
            if (amount > userBalance) {
                showSuccessModal('Error', 'Insufficient balance');
                return;
            }
            
            // Process withdrawal
            userBalance -= amount;
            document.getElementById('userBalance').textContent = 'Rs. ' + userBalance;
            
            showSuccessModal('Success', `Withdrawal request of Rs. ${amount} to ${method} has been submitted. It will be processed within 24 hours.`);
            
            // Reset form
            document.getElementById('withdrawAmount').value = '';
            document.getElementById('withdrawMethod').value = '';
            document.getElementById('accountNumber').value = '';
            document.getElementById('accountNumberGroup').style.display = 'none';
        }
        
        // Copy referral link
        function copyReferralLink() {
            const link = document.getElementById('referralLink');
            link.select();
            document.execCommand('copy');
            showSuccessModal('Success', 'Referral link copied to clipboard!');
        }
        
        // Copy referral code
        function copyReferralCode() {
            const code = document.getElementById('referralCode');
            code.select();
            document.execCommand('copy');
            showSuccessModal('Success', 'Referral code copied to clipboard!');
        }
        
        // Show success modal
        function showSuccessModal(title, content) {
            document.getElementById('successModalTitle').textContent = title;
            document.getElementById('successModalContent').textContent = content;
            document.getElementById('successModal').style.display = 'flex';
        }
        
        // Close modal
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }
        
        // Logout
        function logout() {
            currentUser = null;
            userBalance = 0;
            
            document.getElementById('appContainer').style.display = 'none';
            document.getElementById('loginScreen').style.display = 'flex';
            
            // Reset login form
            document.getElementById('email').value = '';
            document.getElementById('password').value = '';
            document.getElementById('userid').value = '';
            document.getElementById('password2').value = '';
            
            showLoginForm('email');
        }
        
        // Update account
        function updateAccount() {
            const name = document.getElementById('accountName').value;
            const currentPass = document.getElementById('currentPassword').value;
            const newPass = document.getElementById('newPassword').value;
            const confirmPass = document.getElementById('confirmPassword').value;
            
            if (name) {
                currentUser.name = name;
                document.getElementById('usernameDisplay').textContent = name;
                showSuccessModal('Success', 'Name updated successfully!');
            }
            
            if (currentPass && newPass && confirmPass) {
                if (newPass !== confirmPass) {
                    showSuccessModal('Error', 'New passwords do not match');
                    return;
                }
                
                showSuccessModal('Success', 'Password changed successfully!');
                
                // Clear password fields
                document.getElementById('currentPassword').value = '';
                document.getElementById('newPassword').value = '';
                document.getElementById('confirmPassword').value = '';
            }
        }
    </script>
</body>
</html>